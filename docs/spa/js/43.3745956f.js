"use strict";(globalThis["webpackChunkcharts_inscritos"]=globalThis["webpackChunkcharts_inscritos"]||[]).push([[43],{1043:(e,t,a)=>{a.r(t),a.d(t,{default:()=>P});var s=a(9835);const n=(0,s._)("div",null,[(0,s._)("hr")],-1);function o(e,t,a,o,d,i){const r=(0,s.up)("bar-chart"),l=(0,s.up)("table-chart");return(0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(d.sedes,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"q-mt-md",key:e},[n,(0,s.Wm)(r,{sede:e.name},null,8,["sede"]),(0,s.Wm)(l,{sede:e.name},null,8,["sede"])])))),128)}var d=a(6970);const i={key:0};function r(e,t,a,n,o,r){const l=(0,s.up)("q-tooltip"),c=(0,s.up)("q-btn"),u=(0,s.up)("q-card-section"),p=(0,s.up)("ECharts"),m=(0,s.up)("q-card");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(m,{class:"no-shadow",bordered:""},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{class:"text-h6"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Cantidad de estudiantes Pagos "+(0,d.zw)(e.sumaTotal)+" ",1),e.sede?((0,s.wg)(),(0,s.iD)("h5",i,"Sede: "+(0,d.zw)(e.sede),1)):(0,s.kq)("",!0),(0,s.Wm)(c,{icon:"fa fa-download",class:"float-right",onClick:e.SaveImage,flat:"",dense:""},{default:(0,s.w5)((()=>[(0,s.Wm)(l,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Download PNG")])),_:1})])),_:1},8,["onClick"])])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,{ref:"barchart",option:e.options,class:"q-mt-md",resizable:!0,autoresize:"",style:{height:"285px"}},null,8,["option"])])),_:1})])),_:1})])}a(9665),a(6890);var l=a(5213),c=(a(993),a(7524));const u=(0,s.aZ)({name:"BarChart",props:["sede"],mounted(){this.getInscritos()},data(){return{options:{legend:{bottom:10},tooltip:{},dataset:{source:[]},grid:{left:"3%",right:"4%",bottom:"20%",top:"5%",containLabel:!0},xAxis:{type:"category"},yAxis:{},series:[{type:"bar",itemStyle:{color:"#1ec761"}},{type:"bar",itemStyle:{color:"#f5cf27"}},{type:"bar",itemStyle:{color:"#f73955"}}]},sumaTotal:0}},components:{ECharts:l.ZP},methods:{SaveImage(){const e=this.$refs.barchart.getDataURL(),t=document.createElement("a");document.body.appendChild(t),t.href=e,t.target="_self",t.download="BarChart.png",t.click()},async getInscritos(){const e=await c.Z.get("https://sistemas.cepreuna.edu.pe/api/v1/alumnos/pagos",{headers:{Authorization:"cepreuna_v1_api"}});var t=e.data.sedes;let a=0;this.sede&&(t=e.data.sedes.filter((e=>e.sede==this.sede)));let s=t.reduce((function(e,t){var s=e.findIndex((e=>e[0]===t.sede));-1===s&&(e.push([t.sede,0,0,0]),s=e.length-1);let n=0;return 3===t.estado?(e[s][3]+=t.cantidad,n+=t.cantidad):1===t.estado?(e[s][1]+=t.cantidad,n+=t.cantidad):2===t.estado&&(e[s][2]+=t.cantidad,n+=t.cantidad),a+=n,e}),[]);s.unshift(["Areas","Pagado","Incompleto","Deuda"]),this.options.dataset.source=s,this.sumaTotal=a}}});var p=a(1639),m=a(4458),h=a(3190),g=a(9379),b=a(6858),f=a(9984),w=a.n(f);const v=(0,p.Z)(u,[["render",r]]),y=v;w()(u,"components",{QCard:m.Z,QCardSection:h.Z,QBtn:g.Z,QTooltip:b.Z});const _={class:"q-pa-md"};function C(e,t,a,n,o,d){const i=(0,s.up)("q-table");return(0,s.wg)(),(0,s.iD)("div",_,[(0,s.Wm)(i,{flat:"",bordered:"",title:"Cantidad de Inscritos por Turnos",rows:o.rows,columns:o.columns,"row-key":"name",separator:"cell",pagination:o.initialPagination,class:"table-bg",dark:""},null,8,["rows","columns","pagination"])])}var I=a(499);const k=[{name:"cantidad",align:"center",label:"CANTIDAD #",field:"cantidad",sortable:!0},{name:"denominacion",align:"center",label:"DENOMINACION",field:"denominacion",sortable:!0},{name:"sede",align:"center",label:"SEDE",field:"sede",sortable:!0}],Z={mounted(){this.getInscritos()},props:["sede"],data(){return{initialPagination:{sortBy:"desc",descending:!1,rowsPerPage:10},separator:(0,I.iH)("vertical"),columns:k,rows:[]}},methods:{async getInscritos(){const e=await c.Z.get("https://sistemas.cepreuna.edu.pe/api/v1/alumnos/pagos",{headers:{Authorization:"cepreuna_v1_api"}});var t=e.data.sedes;this.sede&&(t=e.data.sedes.filter((e=>e.sede==this.sede))),this.rows=t}}};var D=a(2254);const T=(0,p.Z)(Z,[["render",C],["__scopeId","data-v-26b89af5"]]),q=T;w()(Z,"components",{QTable:D.Z});const A={components:{BarChart:y,TableChart:q},mounted(){this.getInscritos(),console.log("hola")},data(){return{sedes:[]}},methods:{async getInscritos(){const e=await c.Z.get("https://sistemas.cepreuna.edu.pe/api/v1/alumnos/inscritos",{headers:{Authorization:"cepreuna_v1_api"}});let t=e.data.sedes.map((e=>({value:e.cantidad,name:e.sede})));this.sedes=t}}},W=(0,p.Z)(A,[["render",o]]),P=W}}]);